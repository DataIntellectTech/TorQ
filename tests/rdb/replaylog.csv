action,ms,bytes,lang,code,repeat,minver,comment
before,0,0,q,trade:0#trade,1,,"Clear tables"
before,0,0,q,quote:0#quote,1,,"Clear tables"
before,0,0,q,.rdb.subtables:(),1,,"Clear subscription tables"
before,0,0,q,.rdb.subfiltered:0b,1,,"Turn off subscription filters"
before,0,0,q,.rdb.subscribeto:`,1,,"Turn off subscription filters"
before,0,0,q,.rdb.subscribesyms:`,1,,"Turn off subscription filters"
before,0,0,q,.rdb.subscribe[],1,,"Subscribe to all data from stp"
before,0,0,q,.tst.h:first .sub.getsubscriptionhandles[.rdb.tickerplanttypes;();()!()]`w,1,,"Save handle to stp"
true,0,0,q,all (tables[]except `KUT`KUTR)in 1_.rdb.subtables,1,,"Check subscription made for all tables"
true,0,0,q,0<count trade,1,,"Check trade table populated from replay"
true,0,0,q,0<count quote,1,,"Check quote table populated from replay"
after,0,0,q,".tst.h"".stpps.closesub .z.w""",1,,"Close subscription"
after,0,0,q,trade:0#trade,1,,"Clear tables"
after,0,0,q,quote:0#quote,1,,"Clear tables"
