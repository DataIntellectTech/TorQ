action,ms,bytes,lang,code,repeat,minver,comment
beforeany,0,0,q,system "sleep 5",1,,"wait for all procs to go up"
before,0,0,q,hdbHandle:gethandle[`hdb1],1,,"Get handle to the HDB"
before,0,0,q,rdb1Handle:gethandle[`rdb1],1,,"Get handle to RDB1"
before,0,0,q,rdb2Handle:gethandle[`rdb2],1,,"Get handle to RDB2"
before,0,0,q,wdbHandle:gethandle[`wdb1],1,,"Get handle to WDB"
before,0,0,q,gwHandle:gethandle[`gateway1],1,,"Get handle to gateway"
run,0,0,q,wdbHandle(`.u.endofday;.z.d)
run,0,0,q,system "sleep 5",1,,"wait to allow wdb endofday process to finish running"
true,0,0,q,1~all rdb1Handle(`.rdb.reloadcalls),1,,"check rdb1 reloadcalls dictionary has updated"
true,0,0,q,0~all rdb2Handle(`.rdb.reloadcalls),1,,"check rdb2 reloadcalls dictionary has not updated"
true,0,0,q,1~sum gwHandle(`.gw.reloadcalls),1,,"check gateway reloadcalls dictionary has updated"
true,0,0,q,1~sum hdbHandle(`.hdb.reloadcalls),1,,"check hdb reloadcalls dictionary has updated"
